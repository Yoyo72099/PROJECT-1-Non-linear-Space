<!DOCTYPE html>
<html lang="en">
<head>
   <link rel="icon" href="https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/IMG_6694.jpg?raw=true" type="image/png">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>The Unfinished Gallery</title>
<style>
  @font-face {
    font-family: 'Cactus Jack Alternate';
    src: url('https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/raw/refs/heads/main/Cactus-Jack-Alternate.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: #0a0a0a;
    color: #e8e4df;
    font-family: 'Cactus Jack Alternate', sans-serif;
    -webkit-tap-highlight-color: transparent;
  }

  /* ====== Page Entrance Transition ====== */
  .page-transition {
    position: fixed;
    inset: 0;
    background: #0a0a0a;
    z-index: 9999;
    pointer-events: none;
    animation: pageReveal 1.2s ease 0.1s forwards;
  }

  @keyframes pageReveal {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }

  /* ====== Background ====== */
  .bg-layer {
    position: fixed;
    inset: 0;
    background: #0a0a0a url('https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/IMG_6698.jpg?raw=true') center/cover fixed;
    z-index: 0;
  }

  .bg-layer::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(10, 10, 10, 0.8);
  }

  /* ====== Main container ====== */
  .scene {
    position: fixed;
    inset: 0;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    perspective: 1400px;
  }

  /* ====== Title ====== */
  .page-title {
    position: fixed;
    top: 30px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
    font-size: 1.8rem;
    letter-spacing: 0.12em;
    color: rgba(201, 168, 124, 0.6);
    text-transform: lowercase;
    animation: fadeDown 1s ease 0.5s both;
  }

  /* ====== Carousel ====== */
  .carousel {
    width: 320px;
    height: 440px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .card {
    position: absolute;
    width: 320px;
    height: 440px;
    top: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    transition: box-shadow 0.3s;
    backface-visibility: hidden;
  }

  .card img {
    width: 100%;
    height: 370px;
    object-fit: cover;
    border: 2px solid rgba(201, 168, 124, 0.2);
    box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    transition: border-color 0.3s, box-shadow 0.3s;
  }

  .card:hover img {
    border-color: rgba(201, 168, 124, 0.6);
    box-shadow: 0 20px 60px rgba(0,0,0,0.7);
  }

  .card .card-label {
    margin-top: 14px;
    font-size: 1.1rem;
    letter-spacing: 0.06em;
    color: rgba(232, 228, 223, 0.7);
    text-align: center;
    white-space: nowrap;
    text-shadow: 0 2px 8px rgba(0,0,0,0.8);
  }

  .card:hover .card-label {
    color: #c9a87c;
  }

  /* ====== Arrow Buttons ====== */
  .arrow {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    z-index: 20;
    background: none;
    border: 2px solid rgba(201, 168, 124, 0.3);
    color: rgba(201, 168, 124, 0.6);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    font-size: 1.4rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    -webkit-tap-highlight-color: transparent;
  }

  .arrow:hover {
    border-color: rgba(201, 168, 124, 0.7);
    color: #c9a87c;
    background: rgba(201, 168, 124, 0.08);
  }

  .arrow:active {
    transform: translateY(-50%) scale(0.92);
  }

  .arrow-left {
    left: 30px;
  }

  .arrow-right {
    right: 30px;
  }

  /* ====== Dots indicator ====== */
  .dots {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
    display: flex;
    gap: 10px;
    animation: fadeUp 1s ease 1s both;
  }

  .dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(201, 168, 124, 0.2);
    transition: background 0.3s, transform 0.3s;
    cursor: pointer;
  }

  .dot.active {
    background: rgba(201, 168, 124, 0.7);
    transform: scale(1.3);
  }

  .dot:hover {
    background: rgba(201, 168, 124, 0.5);
  }

  /* ====== Animations ====== */
  @keyframes fadeDown {
    from { opacity: 0; transform: translateX(-50%) translateY(-15px); }
    to { opacity: 1; transform: translateX(-50%) translateY(0); }
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateX(-50%) translateY(15px); }
    to { opacity: 1; transform: translateX(-50%) translateY(0); }
  }

  /* ====== Mobile ====== */
  @media (max-width: 768px) {
    .carousel {
      width: 220px;
      height: 320px;
    }
    .card {
      width: 220px;
      height: 320px;
    }
    .card img {
      height: 260px;
    }
    .card .card-label {
      font-size: 0.85rem;
    }
    .page-title {
      font-size: 1.2rem;
    }
    .arrow {
      width: 40px;
      height: 40px;
      font-size: 1.1rem;
    }
    .arrow-left {
      left: 12px;
    }
    .arrow-right {
      right: 12px;
    }
  }

  /* Fix iOS background */
  @supports (-webkit-touch-callout: none) {
    .bg-layer {
      background-attachment: scroll;
    }
  }
</style>
</head>
<body>

<div class="page-transition"></div>
<div class="bg-layer"></div>

<div class="page-title">the unfinished gallery</div>

<!-- Arrow buttons -->
<button class="arrow arrow-left" id="arrowLeft">‹</button>
<button class="arrow arrow-right" id="arrowRight">›</button>

<div class="scene">
  <div class="carousel" id="carousel">

    <!-- ===== 1. A Finished Story ===== -->
    <a class="card" href="https://yoyo72099.github.io/PROJECT-1-Non-linear-Space/phase-5/secondpage">
      <img src="https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/IMG_6534.PNG?raw=true" alt="A Finished Story" />
      <span class="card-label">A Finished Story</span>
    </a>

    <!-- ===== 2. Saint Jerome ===== -->
    <a class="card" href="https://yoyo72099.github.io/PROJECT-1-Non-linear-Space/phase-5/thirdpage">
      <img src="https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/IMG_6682.PNG?raw=true" alt="Saint Jerome in the Wilderness" />
      <span class="card-label">Saint Jerome</span>
    </a>

    <!-- ===== 3. The Castle ===== -->
    <a class="card" href="https://yoyo72099.github.io/PROJECT-1-Non-linear-Space/phase-5/fourpage">
      <img src="https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/截屏2026-02-19%20下午2.43.09.png?raw=true" alt="The Castle" />
      <span class="card-label">The Castle</span>
    </a>

    <!-- ===== 4. Rondanini Pietà ===== -->
    <a class="card" href="https://yoyo72099.github.io/PROJECT-1-Non-linear-Space/phase-5/fivepage">
      <img src="https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/截屏2026-02-19%20下午3.03.22.png?raw=true" alt="Rondanini Pietà" />
      <span class="card-label">Rondanini Pietà</span>
    </a>

    <!-- ===== 5. The Keeper of the Flock ===== -->
    <a class="card" href="https://yoyo72099.github.io/PROJECT-1-Non-linear-Space/phase-5/sixpage">
      <img src="https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/IMG_6685.PNG?raw=true" alt="The Keeper of the Flock" />
      <span class="card-label">Keeper of the Flock</span>
    </a>

    <!-- ===== 6. George Washington ===== -->
    <a class="card" href="https://yoyo72099.github.io/PROJECT-1-Non-linear-Space/phase-5/sevenpage">
      <img src="https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/IMG_6688.PNG?raw=true" alt="George Washington" />
      <span class="card-label">George Washington</span>
    </a>

    <!-- ===== 7. Alexander and Bucephalus ===== -->
    <a class="card" href="https://yoyo72099.github.io/PROJECT-1-Non-linear-Space/phase-5/eightpage">
      <img src="https://github.com/Yoyo72099/PROJECT-1-Non-linear-Space/blob/main/IMG_6690.PNG?raw=true" alt="Alexander and Bucephalus" />
      <span class="card-label">Alexander & Bucephalus</span>
    </a>

  </div>
</div>

<!-- Dots indicator -->
<div class="dots" id="dots"></div>

<script>
(() => {
  const carousel = document.getElementById('carousel');
  const cards = carousel.querySelectorAll('.card');
  const arrowLeft = document.getElementById('arrowLeft');
  const arrowRight = document.getElementById('arrowRight');
  const dotsContainer = document.getElementById('dots');

  const n = cards.length;
  const theta = 360 / n;
  let currentIndex = 0;
  let currentAngle = 0;

  // Calculate radius
  const isMobile = window.innerWidth <= 768;
  const cardW = isMobile ? 220 : 320;
  const radius = Math.round((cardW + 60) / (2 * Math.tan(Math.PI / n)));

  // Position each card in 3D circle
  cards.forEach((card, i) => {
    card.style.transform = `rotateY(${theta * i}deg) translateZ(${radius}px)`;
  });

  // Create dots
  for (let i = 0; i < n; i++) {
    const dot = document.createElement('div');
    dot.className = 'dot' + (i === 0 ? ' active' : '');
    dot.addEventListener('click', () => goTo(i));
    dotsContainer.appendChild(dot);
  }

  function updateDots() {
    dotsContainer.querySelectorAll('.dot').forEach((d, i) => {
      d.classList.toggle('active', i === currentIndex);
    });
  }

  function goTo(index) {
    // Find shortest rotation direction
    let diff = index - currentIndex;
    if (diff > n / 2) diff -= n;
    if (diff < -n / 2) diff += n;

    currentAngle -= diff * theta;
    currentIndex = index;
    carousel.style.transform = `rotateY(${currentAngle}deg)`;
    updateDots();
  }

  // Arrow clicks
  arrowLeft.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + n) % n;
    currentAngle += theta;
    carousel.style.transform = `rotateY(${currentAngle}deg)`;
    updateDots();
  });

  arrowRight.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % n;
    currentAngle -= theta;
    carousel.style.transform = `rotateY(${currentAngle}deg)`;
    updateDots();
  });

  // Keyboard support
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') arrowLeft.click();
    if (e.key === 'ArrowRight') arrowRight.click();
  });

  // Swipe support for mobile
  let touchStartX = 0;
  let touchEndX = 0;

  carousel.addEventListener('touchstart', (e) => {
    touchStartX = e.touches[0].clientX;
  }, { passive: true });

  carousel.addEventListener('touchend', (e) => {
    touchEndX = e.changedTouches[0].clientX;
    const diff = touchStartX - touchEndX;
    if (Math.abs(diff) > 50) {
      if (diff > 0) arrowRight.click();
      else arrowLeft.click();
    }
  }, { passive: true });

  // Init
  carousel.style.transform = `rotateY(0deg)`;
})();
</script>
</body>
</html>
